{% extends "main/base.html" %}
{% load custom_filters %}

{% block title %}–¢–æ–ø –∏–≥—Ä ‚Äî Site Igr{% endblock %}

{% block content %}
<h1>üé≤ –¢–æ–ø –Ω–∞—Å—Ç–æ–ª—å–Ω—ã—Ö –∏–≥—Ä</h1>
<p class="subtitle">–†–µ–π—Ç–∏–Ω–≥ —Å–∞–º—ã—Ö –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö –∏ –≤—ã—Å–æ–∫–æ–æ—Ü–µ–Ω—ë–Ω–Ω—ã—Ö –∏–≥—Ä</p>

<div class="games-leaderboard">
  {% for game in games %}
  <a href="{% url 'game_detail' game.id %}" class="block">
  <div class="game-item game-rank-{{ game.rank }}">
    <div class="game-rank">
      <span class="rank-number">{{ game.rank }}</span>
    </div>
    {% if game.image %}
      <img src="{{ game.image.url }}" alt="{{ game.name }}" class="game-thumb-img">
    {% endif %}
    <div class="game-info">
      <h3 class="game-name">{{ game.name }}</h3> 
      <p class="game-plays">–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏–≥—Ä: <span class="plays-count">{{ game.played_games }}</span></p>
    </div>
    <div class="game-rating">
      <div class="stars-container">
        <div class="stars-fill" style="width: {{ game.rating|mul:10 }}%">
          <span class="stars-text">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</span>
        </div>
        <span class="stars-bg">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</span>
      </div>
      <span class="rating-value">{{ game.rating }}/10</span>
    </div>
  </div>
  {% empty %}
  <div class="card" style="text-align:center; padding:40px;">
    <p>–î–∞–Ω–Ω—ã–µ –æ–± –∏–≥—Ä–∞—Ö –µ—â–µ –Ω–µ –¥–æ–±–∞–≤–ª–µ–Ω—ã</p>
  </div>
  <a/>
  {% endfor %}
</div>
{% endblock %}